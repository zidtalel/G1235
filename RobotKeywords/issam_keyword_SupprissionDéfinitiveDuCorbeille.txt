*** Settings ***
Documentation     Fichiers de scripts pour créer une régle
Library    SeleniumLibrary
*** Variables ***
# vURL contient l'adresse URL de la page web
${vURL}    http://localhost:8985/share/page/
# vBrowser contient l'identifiant du navigateur cible
${vBrowser}    chrome
# vUsername contient le login
${vUsername}    2225157
 # vPassword contient le mot de passe
${vPassword}    12345678
${TIMEOUT}    5s
${txt_UserName}    username
${txt_Password}    password
${btn_Login}    page_x002e_components_x002e_slingshot-login_x0023_default-submit-button
${lblTitle}    HEADER_TITLE
${link_monProfil2}    //span[@id='HEADER_USER_MENU_POPUP_text']
${link1_monProfil}    //a[@title='Mon profil']
${corbeille}    template_x002e_toolbar_x002e_user-profile_x0023_default-user-trashcan-link
${Btn_supprimer}    //tbody/tr/td/div/span/span/span/button[contains(text(),'Supprimer')]
${Confirme_Supp}    //div/div/div/span/span/span/button[contains(text(),'OK')]


*** Test Cases ***
SupprissionDéfinitiveDuCorbeille
# Definir la valeur de timeout pour le cas de test
    Set Selenium Timeout    ${TIMEOUT}
    # Ouvrir le navigateur en precisant l'URL et le navigateur
    Open Browser    ${vURL}    ${vBrowser}
    # Maximiser la fenetre du navigateur
    Maximize Browser Window
    # Saisie du login
    Input text    ${txt_UserName}    ${vUsername}
    # Saisie du mot de passe    
    Input text    ${txt_Password}    ${vPassword}
    # Click sur le bouton Connexion.
    Click Button   ${btn_Login}
    # S'assurer que la page est chargee
    Wait Until Element Is Visible    ${lblTitle}
    # S'assurer que l'utilisateur est connecte et que le tableau de bord est affiche
    Element Should Contain     ${lblTitle}    Tableau de bord de
    Sleep    2
    Click Element    ${link_monProfil2}
    Click Element    ${link1_monProfil}
    Sleep    2
    Click Element    ${corbeille}
    Wait Until Element Is Visible    checkbox-yui-rec7
    Click Button    ${Btn_supprimer}
    Sleep    2
    Click Button    ${Confirme_Supp}
    Sleep    2
    Click Element    //span[@id='HEADER_USER_MENU_POPUP_text']
    Sleep    2
    Click Element    //td[@id='HEADER_USER_MENU_LOGOUT_text']
    Close All Browsers