#Login Page Elements

txt_username="name:username"
txt_password="name:password"
btn_login="id:page_x002e_components_x002e_slingshot-login_x0023_default-submit-button" 

#Accueil Page Elements
titre_accueil="css=span[title='Tableau de bord de Kendon Williams']"

#Outils Admin Page Elements
menu_outils_admin="link:Outils admin"
lien_groupes="link:Groupes"
btn_parcourir="xpath://button[text()='Parcourir']"
icone_nouveau_groupe="xpath://span[@title='Nouveau groupe']"
txt_identifiant_groupe="id:page_x002e_ctool_x002e_admin-console_x0023_default-create-shortname"
txt_nom_groupe="id:page_x002e_ctool_x002e_admin-console_x0023_default-create-displayname"
btn_creer_groupe="xpath://button[text()='Cr√©er un groupe']"
alerte_groupe_deja_present="xpath://div[@id='prompt']"
btn_cancel_alerte_groupe="xpath://div[@class='ft']//button[text()='Annuler']"
btn_recherche_groupe="xpath://div[@class='search-button']//button[text()='Rechercher']"
txt_recherche_groupe="id:page_x002e_ctool_x002e_admin-console_x0023_default-search-text"
colonne_identifiant_groupe="xpath://td[@headers='yui-dt9-th-shortName ']"
ligne_tableau_groupe="xpath://a[@class='yui-columnbrowser-item groups-item-group']"
icone_supprime_groupe="xpath://span[@class='yui-columnbrowser-item-buttons yui-columnbrowser-item-buttons-active']//span[@title='Supprimer le Groupe']"
btn_supprime="xpath://button[text()='Supprimer']"

*** Variables ***
${nom_dossier}    testdossier
${num_dossier}    1
${nom_groupe}    testgroupe
${num_groupe}    1
${site}    http://localhost:8091/share/page/
${browser}    gc
${options}    options
${langue_fr}    add_argument('--lang=fr')
${partiel_titre_accueil}    Tableau de bord
${user}    0741393
${pass}    12345678
${sleep_timer}    300ms
${incremente_num_dossier}  

#Besoin Keyword SetupAlfresco et Keyword Creer Groupe
*** Keywords ***
Eviter Groupe Duplique
    [Arguments]    ${nom_dossier}    ${num_dossier}
    Sleep    ${sleep_timer}
    ${IsGroupeDejaPresent}    Run Keyword And Return Status    Page Should Contain Element    ${alerte_groupe_deja_present}  
    Run Keyword If    ${IsGroupeDejaPresent}    Click Element    ${btn_cancel_alerte_groupe}
    WHILE    ${IsGroupeDejaPresent}
        ${num_groupe}    Evaluate    ${num_groupe} + ${incremente_num_dossier}    
        Input Text    ${txt_identifiant_groupe}    ${nom_groupe}${num_groupe}
        Input Text    ${txt_nom_groupe}    ${nom_groupe}${num_groupe}
        Click Button    ${btn_creer_groupe}
        Sleep    ${sleep_timer}
        ${IsGroupeDejaPresent}    Run Keyword And Return Status    Page Should Contain Element    ${alerte_groupe_deja_present}
        Run Keyword If    ${IsGroupeDejaPresent}    Click Element    ${btn_cancel_alerte_groupe}       
    END
    [Return]    ${num_groupe}